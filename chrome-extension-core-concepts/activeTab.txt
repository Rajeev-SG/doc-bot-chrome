Title: The "activeTab" permission

URL Source: http://developer.chrome.com/docs/extensions/develop/concepts/activeTab

Markdown Content:
The "activeTab" permission  |  Chrome Extensions  |  Chrome for Developers
=============== 

 [![Image 7: Chrome for Developers](https://www.gstatic.com/devrel-devsite/prod/vda41147226ae308b24384f785d31d739107d2716272d99cd11c490ff3892954d/chrome/images/lockup.svg)](http://developer.chrome.com/)

[Get inspired](https://developer.chrome.com/case-studies) [Blog](https://developer.chrome.com/blog) [Docs](https://developer.chrome.com/docs)[](http://developer.chrome.com/docs/extensions/develop/concepts/activeTab#)

*   Build with Chrome
*   Learn how Chrome works, participate in origin trials, and build with Chrome everywhere.
*   [Web Platform](https://developer.chrome.com/docs/web-platform)
*   [Capabilities](https://developer.chrome.com/docs/capabilities)
*   [ChromeDriver](https://developer.chrome.com/docs/chromedriver)
*   [Extensions](https://developer.chrome.com/docs/extensions)
*   [Chrome Web Store](https://developer.chrome.com/docs/webstore)
*   [Chromium](https://developer.chrome.com/docs/chromium)
*   [Aurora](https://developer.chrome.com/docs/aurora)
*   [Web on Android](https://developer.chrome.com/docs/android)
*   [Origin trials](https://developer.chrome.com/origintrials/)
*   [Release notes](https://developer.chrome.com/release-notes)

*   Productivity
*   Create the best experience for your users with the web's best tools.
*   [DevTools](https://developer.chrome.com/docs/devtools)
*   [Lighthouse](https://developer.chrome.com/docs/lighthouse)
*   [Chrome UX Report](https://developer.chrome.com/docs/crux)
*   [Accessibility](https://developer.chrome.com/docs/accessibility)

*   Get things done quicker and neater, with our ready-made libraries.
*   [Workbox](https://developer.chrome.com/docs/workbox)
*   [Puppeteer](https://developer.chrome.com/docs/puppeteer)

*   Experience
*   Design a beautiful and performant web with Chrome.
*   [AI](https://developer.chrome.com/docs/ai)
*   [Performance](https://developer.chrome.com/docs/performance)
*   [CSS and UI](https://developer.chrome.com/docs/css-ui)
*   [Identity](https://developer.chrome.com/docs/identity)
*   [Payments](https://developer.chrome.com/docs/payments)
*   [Privacy and security](https://developer.chrome.com/docs/privacy-security)

*   Resources
*   More from the Chrome team.
*   [All documentation](https://developer.chrome.com/docs)
*   [Baseline](https://web.dev/baseline)
*   [web.dev](https://web.dev/)
*   [PageSpeed Insights audit](https://pagespeed.web.dev/)

[New in Chrome](https://developer.chrome.com/new)

/

*   English
*   Deutsch
*   Español – América Latina
*   Français
*   Indonesia
*   Italiano
*   Nederlands
*   Polski
*   Português – Brasil
*   Tiếng Việt
*   Türkçe
*   Русский
*   עברית
*   العربيّة
*   فارسی
*   हिंदी
*   বাংলা
*   ภาษาไทย
*   中文 – 简体
*   中文 – 繁體
*   日本語
*   한국어

Sign in

*   [Chrome Extensions](https://developer.chrome.com/docs/extensions)

[Overview](https://developer.chrome.com/docs/extensions) [Get Started](https://developer.chrome.com/docs/extensions/get-started) [Develop](https://developer.chrome.com/docs/extensions/develop) [How To](https://developer.chrome.com/docs/extensions/how-to) [AI](https://developer.chrome.com/docs/extensions/ai) [Reference](https://developer.chrome.com/docs/extensions/reference)[](http://developer.chrome.com/docs/extensions/develop/concepts/activeTab#)

*   [API](https://developer.chrome.com/docs/extensions/reference/api)
*   [Permissions](https://developer.chrome.com/docs/extensions/reference/permissions-list)
*   [Manifest](https://developer.chrome.com/docs/extensions/reference/manifest)

[Samples](https://developer.chrome.com/docs/extensions/samples) [Chrome Web Store](https://developer.chrome.com/docs/webstore)[](http://developer.chrome.com/docs/extensions/develop/concepts/activeTab#)

*   [Prepare your Extension](https://developer.chrome.com/docs/webstore/prepare)
*   [Publish in the Chrome Web Store](https://developer.chrome.com/docs/webstore/publish)
*   [Program Policies](https://developer.chrome.com/docs/webstore/program-policies) [![Image 8: Chrome for Developers](https://www.gstatic.com/devrel-devsite/prod/vda41147226ae308b24384f785d31d739107d2716272d99cd11c490ff3892954d/chrome/images/lockup.svg)](http://developer.chrome.com/)

*   [Get inspired](http://developer.chrome.com/case-studies)
*   [Blog](http://developer.chrome.com/blog)
*   [Docs](http://developer.chrome.com/docs)
    
    *   More
    
    *   [Overview](http://developer.chrome.com/docs/extensions)
    *   [Get Started](http://developer.chrome.com/docs/extensions/get-started)
    *   [Develop](http://developer.chrome.com/docs/extensions/develop)
    *   [How To](http://developer.chrome.com/docs/extensions/how-to)
    *   [AI](http://developer.chrome.com/docs/extensions/ai)
    *   [Reference](http://developer.chrome.com/docs/extensions/reference)
        *   More
    *   [Samples](http://developer.chrome.com/docs/extensions/samples)
    *   [Chrome Web Store](http://developer.chrome.com/docs/webstore)
        *   More
*   [New in Chrome](http://developer.chrome.com/new)

*   [What's new in Chrome Extensions](http://developer.chrome.com/docs/extensions/whats-new)
*   [Samples](http://developer.chrome.com/docs/extensions/samples)
*   Get Started
    
    *   [Introduction](http://developer.chrome.com/docs/extensions/get-started)
    *   [Hello World](http://developer.chrome.com/docs/extensions/get-started/tutorial/hello-world)
    *   [Run scripts on every page](http://developer.chrome.com/docs/extensions/get-started/tutorial/scripts-on-every-tab)
    *   [Inject scripts into the active tab](http://developer.chrome.com/docs/extensions/get-started/tutorial/scripts-activetab)
    *   [Handle events with service workers](http://developer.chrome.com/docs/extensions/get-started/tutorial/service-worker-events)
    *   [Manage tabs](http://developer.chrome.com/docs/extensions/get-started/tutorial/popup-tabs-manager)
    *   [Debug extensions](http://developer.chrome.com/docs/extensions/get-started/tutorial/debug)
    
*   Develop
    
    *   [Introduction](http://developer.chrome.com/docs/extensions/develop)
    *   Design the user interface
        
        *   [User interface components](http://developer.chrome.com/docs/extensions/develop/ui)
        *   [Add a popup](http://developer.chrome.com/docs/extensions/develop/ui/add-popup)
        *   [Implement an action](http://developer.chrome.com/docs/extensions/develop/ui/implement-action)
        *   [Build a context menu](http://developer.chrome.com/docs/extensions/develop/ui/context-menu)
        *   [Override Chrome pages](http://developer.chrome.com/docs/extensions/develop/ui/override-chrome-pages)
        *   [Trigger actions from the omnibox](http://developer.chrome.com/docs/extensions/develop/ui/omnibox-triggers)
        *   [Give users options](http://developer.chrome.com/docs/extensions/develop/ui/options-page)
        *   [Notify users](http://developer.chrome.com/docs/extensions/develop/ui/notify-users)
        *   [Respond to commands](http://developer.chrome.com/docs/extensions/develop/ui/respond-to-commands)
        *   [What are themes?](http://developer.chrome.com/docs/extensions/develop/ui/themes)
        *   [Configure extension icons](http://developer.chrome.com/docs/extensions/develop/ui/configure-icons)
        *   [Make your extension accessible](http://developer.chrome.com/docs/extensions/develop/ui/a11y)
        *   [Internationalize the interface](http://developer.chrome.com/docs/extensions/develop/ui/i18n)
        
    *   Core concepts
        
        *   [Content scripts](http://developer.chrome.com/docs/extensions/develop/concepts/content-scripts)
        *   [Message passing](http://developer.chrome.com/docs/extensions/develop/concepts/messaging)
        *   [Match patterns](http://developer.chrome.com/docs/extensions/develop/concepts/match-patterns)
        *   [Storage and cookies](http://developer.chrome.com/docs/extensions/develop/concepts/storage-and-cookies)
        *   [Content filtering](http://developer.chrome.com/docs/extensions/develop/concepts/content-filtering)
        *   [The activeTab permission](http://developer.chrome.com/docs/extensions/develop/concepts/activeTab)
        *   [Declare permissions](http://developer.chrome.com/docs/extensions/develop/concepts/declare-permissions)
        *   [Permission warning guidelines](http://developer.chrome.com/docs/extensions/develop/concepts/permission-warnings)
        *   [Native messaging](http://developer.chrome.com/docs/extensions/develop/concepts/native-messaging)
        *   [Cross-origin network requests](http://developer.chrome.com/docs/extensions/develop/concepts/network-requests)
        *   [Cross-origin isolation](http://developer.chrome.com/docs/extensions/develop/concepts/cross-origin-isolation)
        *   [Service worker introduction](http://developer.chrome.com/docs/extensions/develop/concepts/service-workers)
        *   [Extension service worker basics](http://developer.chrome.com/docs/extensions/develop/concepts/service-workers/basics)
        *   [The extension service worker lifecycle](http://developer.chrome.com/docs/extensions/develop/concepts/service-workers/lifecycle)
        *   [Events in service workers](http://developer.chrome.com/docs/extensions/develop/concepts/service-workers/events)
        *   [Real Time updates](http://developer.chrome.com/docs/extensions/develop/concepts/real-time)
        
    *   Migrate to Manifest V3
        
        *   [What is Manifest V3](http://developer.chrome.com/docs/extensions/develop/migrate/what-is-mv3)
        *   [Manifest V2 support timeline](http://developer.chrome.com/docs/extensions/develop/migrate/mv2-deprecation-timeline)
        *   [Known issues when migrating to Manifest V3](http://developer.chrome.com/docs/extensions/develop/migrate/known-issues)
        *   [Migration overview](http://developer.chrome.com/docs/extensions/develop/migrate)
        *   [Manifest V3 migration checklist](http://developer.chrome.com/docs/extensions/develop/migrate/checklist)
        *   [Update the manifest](http://developer.chrome.com/docs/extensions/develop/migrate/manifest)
        *   [Migrate to a service worker](http://developer.chrome.com/docs/extensions/develop/migrate/to-service-workers)
        *   [Update your code](http://developer.chrome.com/docs/extensions/develop/migrate/api-calls)
        *   [Replace blocking web request listeners](http://developer.chrome.com/docs/extensions/develop/migrate/blocking-web-requests)
        *   [Improve extension security](http://developer.chrome.com/docs/extensions/develop/migrate/improve-security)
        *   [Deal with remote hosted code violations](http://developer.chrome.com/docs/extensions/develop/migrate/remote-hosted-code)
        *   [Publish your extension](http://developer.chrome.com/docs/extensions/develop/migrate/publish-mv3)
        
    *   Security and privacy
        
        *   [Stay secure](http://developer.chrome.com/docs/extensions/develop/security-privacy/stay-secure)
        *   [Protect user privacy](http://developer.chrome.com/docs/extensions/develop/security-privacy/user-privacy)
        
    
*   How To
    
    *   [Introduction](http://developer.chrome.com/docs/extensions/how-to)
    *   Design the user interface
        
        *   [Localization message formats](http://developer.chrome.com/docs/extensions/how-to/ui/localization-message-formats)
        *   [Use favicons](http://developer.chrome.com/docs/extensions/how-to/ui/favicons)
        *   [Support accessibility](http://developer.chrome.com/docs/extensions/how-to/ui/a11y)
        *   [Use the Notifications API](http://developer.chrome.com/docs/extensions/how-to/ui/notifications)
        *   [Extend DevTools](http://developer.chrome.com/docs/extensions/how-to/devtools/extend-devtools)
        
    *   Integrate
        
        *   [Use Google Analytics 4](http://developer.chrome.com/docs/extensions/how-to/integrate/google-analytics-4)
        *   [Use OAuth 2.0 to authenticate users with Google](http://developer.chrome.com/docs/extensions/how-to/integrate/oauth)
        *   [Use Firebase Cloud Messaging (FCM) with chrome.gcm](http://developer.chrome.com/docs/extensions/how-to/integrate/chrome.gcm)
        *   [Receive messages from your server using the Push API](http://developer.chrome.com/docs/extensions/how-to/integrate/web-push)
        
    *   Use the web platform
        
        *   [Use WebSockets in service workers](http://developer.chrome.com/docs/extensions/how-to/web-platform/websockets)
        *   [File handling on Chrome OS](http://developer.chrome.com/docs/extensions/how-to/web-platform/file-handling-chromeos)
        *   [Audio recording and screen capture](http://developer.chrome.com/docs/extensions/how-to/web-platform/screen-capture)
        *   [Use geolocation](http://developer.chrome.com/docs/extensions/how-to/web-platform/geolocation)
        *   [Use WebHID](http://developer.chrome.com/docs/extensions/how-to/web-platform/webhid)
        *   [Use WebUSB](http://developer.chrome.com/docs/extensions/how-to/web-platform/webusb)
        
    *   Test and debug
        
        *   [End-to-end testing for Chrome Extensions](http://developer.chrome.com/docs/extensions/how-to/test/end-to-end-testing)
        *   [Test Chrome Extensions with Puppeteer](http://developer.chrome.com/docs/extensions/how-to/test/puppeteer)
        *   [Test service worker termination with Puppeteer](http://developer.chrome.com/docs/extensions/how-to/test/test-serviceworker-termination-with-puppeteer)
        *   [Unit testing Chrome Extensions](http://developer.chrome.com/docs/extensions/how-to/test/unit-testing)
        
    *   Distribute your extension
        
        *   [Introduction](http://developer.chrome.com/docs/extensions/how-to/distribute)
        *   [Use alternative installation methods](http://developer.chrome.com/docs/extensions/how-to/distribute/install-extensions)
        *   [Self-host for Linux](http://developer.chrome.com/docs/extensions/how-to/distribute/host-on-linux)
        
    *   Stay secure
        
        *   [Use eval() in sandboxed iframes](http://developer.chrome.com/docs/extensions/how-to/security/sandboxing-eval)
        
    
*   Support and feedback
    
    *   [Support and feedback](http://developer.chrome.com/docs/extensions/support)
    *   [File an extension bug](http://developer.chrome.com/docs/extensions/support/file-a-bug)
    *   [Find and follow a bug](http://developer.chrome.com/docs/extensions/support/find-a-bug)
    *   [Get help with Chrome Extensions](http://developer.chrome.com/docs/extensions/support/get-help)
    *   [Submit a feature request](http://developer.chrome.com/docs/extensions/support/request-feature)
    

*   Build with Chrome
*   [Web Platform](http://developer.chrome.com/docs/web-platform)
*   [Capabilities](http://developer.chrome.com/docs/capabilities)
*   [ChromeDriver](http://developer.chrome.com/docs/chromedriver)
*   [Extensions](http://developer.chrome.com/docs/extensions)
*   [Chrome Web Store](http://developer.chrome.com/docs/webstore)
*   [Chromium](http://developer.chrome.com/docs/chromium)
*   [Aurora](http://developer.chrome.com/docs/aurora)
*   [Web on Android](http://developer.chrome.com/docs/android)
*   [Origin trials](https://developer.chrome.com/origintrials/)
*   [Release notes](http://developer.chrome.com/release-notes)
*   Productivity
*   [DevTools](http://developer.chrome.com/docs/devtools)
*   [Lighthouse](http://developer.chrome.com/docs/lighthouse)
*   [Chrome UX Report](http://developer.chrome.com/docs/crux)
*   [Accessibility](http://developer.chrome.com/docs/accessibility)
*   [Workbox](http://developer.chrome.com/docs/workbox)
*   [Puppeteer](http://developer.chrome.com/docs/puppeteer)
*   Experience
*   [AI](http://developer.chrome.com/docs/ai)
*   [Performance](http://developer.chrome.com/docs/performance)
*   [CSS and UI](http://developer.chrome.com/docs/css-ui)
*   [Identity](http://developer.chrome.com/docs/identity)
*   [Payments](http://developer.chrome.com/docs/payments)
*   [Privacy and security](http://developer.chrome.com/docs/privacy-security)
*   Resources
*   [All documentation](http://developer.chrome.com/docs)
*   [Baseline](https://web.dev/baseline)
*   [web.dev](https://web.dev/)
*   [PageSpeed Insights audit](https://pagespeed.web.dev/)

*   [API](http://developer.chrome.com/docs/extensions/reference/api)
*   [Permissions](http://developer.chrome.com/docs/extensions/reference/permissions-list)
*   [Manifest](http://developer.chrome.com/docs/extensions/reference/manifest)

*   [Prepare your Extension](http://developer.chrome.com/docs/webstore/prepare)
*   [Publish in the Chrome Web Store](http://developer.chrome.com/docs/webstore/publish)
*   [Program Policies](http://developer.chrome.com/docs/webstore/program-policies)

*   [Home](https://developer.chrome.com/)
*   [Docs](https://developer.chrome.com/docs)
*   [Chrome Extensions](https://developer.chrome.com/docs/extensions)
*   [AI](https://developer.chrome.com/docs/extensions/ai)

The "activeTab" permission
==========================

Stay organized with collections Save and categorize content based on your preferences.

The `"activeTab"` permission gives an extension temporary access to the currently active tab when the user _invokes_ the extension - for example by clicking its [action](http://developer.chrome.com/docs/extensions/reference/api/action). Access to the tab lasts while the user is on that page, and is revoked when the user navigates away or closes the tab. For example, if the user invokes the extension on https://example.com and then navigates to https://example.com/foo, the extension will continue to have access to the page. If the user navigates to https://chromium.org, access is revoked.

This serves as an alternative for many uses of `"<all_urls>"`, but displays _no warning message_ during installation:

Without `"activeTab"`:

![Image 9: Without activeTab](http://developer.chrome.com/static/docs/extensions/develop/concepts/activeTab/image/without-activetab-ac8957597267.png)

With `"activeTab"`:

![Image 10: With activeTab](http://developer.chrome.com/static/docs/extensions/develop/concepts/activeTab/image/with-activetab-f0c7e749bcb97.png)

Example
-------

See the [Page Redder](https://github.com/GoogleChrome/chrome-extensions-samples/tree/main/functional-samples/sample.page-redder) sample extension:

manifest.json:

```
{
  "name": "Page Redder",
  "version": "2.0",
  "permissions": [
    "activeTab",
    "scripting"
  ],
  "background": {
    "service_worker": "service-worker.js"
  },
  "action": {
    "default_title": "Make this page red"
  },
  "manifest_version": 3
}
```
service-worker:

```
function reddenPage() {
  document.body.style.backgroundColor = 'red';
}

chrome.action.onClicked.addListener((tab) => {
  if (!tab.url.includes('chrome://')) {
    chrome.scripting.executeScript({
      target: { tabId: tab.id },
      func: reddenPage
    });
  }
});
```

Motivation
----------

Consider a web clipping extension that has an [action](http://developer.chrome.com/docs/extensions/reference/api/action) and a [context menu item](http://developer.chrome.com/docs/extensions/reference/api/contextMenus). This extension may only really need to access tabs when its action is clicked, or when its context menu item is executed.

Without `"activeTab"`, this extension would need to request full, persistent access to every website, just so that it could do its work if it happened to be called upon by the user. This is a lot of power to entrust to such a simple extension. And if the extension is ever compromised, the attacker gets access to everything the extension had.

In contrast, an extension with the `"activeTab"` permission only obtains access to a tab in response to an explicit user gesture. If the extension is compromised the attacker would need to wait for the user to invoke the extension before obtaining access. And that access only lasts until the tab is navigated or is closed.

What "activeTab" allows
-----------------------

While the `"activeTab"` permission is enabled for a tab, an extension can:

*   Call [`scripting.insertCSS()`](http://developer.chrome.com/docs/extensions/reference/api/scripting#method-insertCSS) or [`scripting.executeScript()`](http://developer.chrome.com/docs/extensions/reference/api/scripting#method-executeScript) on that tab if the `"scripting"` [permission](http://developer.chrome.com/docs/extensions/develop/concepts/declare-permissions#permissions) is also declared (as in the [example above](http://developer.chrome.com/docs/extensions/develop/concepts/activeTab#example)).
*   Get the URL, title, and favicon for that tab via an API that returns a [`tabs.Tab`](http://developer.chrome.com/docs/extensions/reference/api/tabs#type-Tab) object (essentially, `"activeTab"` grants [host permission](http://developer.chrome.com/docs/extensions/develop/concepts/match-patterns) temporarily).
*   Intercept network requests in the tab to the tab's main frame origin using the [webRequest](http://developer.chrome.com/docs/extensions/reference/api/webRequest) API. The extension temporarily gets host permissions for the tab's main frame origin.

Invoking activeTab
------------------

The following user gestures enable the `"activeTab"` permission:

*   Executing an [action](http://developer.chrome.com/docs/extensions/reference/api/action)
*   Executing a [context menu item](http://developer.chrome.com/docs/extensions/reference/api/contextMenus)
*   Executing a keyboard shortcut from the [commands API](http://developer.chrome.com/docs/extensions/reference/api/commands)
*   Accepting a suggestion from the [omnibox API](http://developer.chrome.com/docs/extensions/reference/api/omnibox)

Except as otherwise noted, the content of this page is licensed under the [Creative Commons Attribution 4.0 License](https://creativecommons.org/licenses/by/4.0/), and code samples are licensed under the [Apache 2.0 License](https://www.apache.org/licenses/LICENSE-2.0). For details, see the [Google Developers Site Policies](https://developers.google.com/site-policies). Java is a registered trademark of Oracle and/or its affiliates.

Last updated 2012-09-21 UTC.

\[\[\["Easy to understand","easyToUnderstand","thumb-up"\],\["Solved my problem","solvedMyProblem","thumb-up"\],\["Other","otherUp","thumb-up"\]\],\[\["Missing the information I need","missingTheInformationINeed","thumb-down"\],\["Too complicated / too many steps","tooComplicatedTooManySteps","thumb-down"\],\["Out of date","outOfDate","thumb-down"\],\["Samples / code issue","samplesCodeIssue","thumb-down"\],\["Other","otherDown","thumb-down"\]\],\["Last updated 2012-09-21 UTC."\],\[\],\[\]\]

*   ### Contribute
    
    *   [File a bug](https://issuetracker.google.com/issues/new?component=1400036&template=1897236)
    *   [See open issues](https://issuetracker.google.com/issues?q=status:open%20componentid:1400036&s=created_time:desc)
*   ### Related content
    
    *   [Chromium updates](https://blog.chromium.org/)
    *   [Case studies](http://developer.chrome.com/case-studies)
    *   [Archive](http://developer.chrome.com/deprecated)
    *   [Podcasts & shows](https://web.dev/shows)
*   ### Follow
    
    *   [@ChromiumDev on X](https://twitter.com/ChromiumDev)
    *   [YouTube](https://www.youtube.com/user/ChromeDevelopers)
    *   [Chrome for Developers on LinkedIn](https://www.linkedin.com/showcase/chrome-for-developers)
    *   [RSS](http://developer.chrome.com/static/blog/feed.xml)

*   [Terms](http://policies.google.com/terms)
*   [Privacy](http://policies.google.com/privacy)
*   [Manage cookies](http://developer.chrome.com/docs/extensions/develop/concepts/activeTab#)

*   English
*   Deutsch
*   Español – América Latina
*   Français
*   Indonesia
*   Italiano
*   Nederlands
*   Polski
*   Português – Brasil
*   Tiếng Việt
*   Türkçe
*   Русский
*   עברית
*   العربيّة
*   فارسی
*   हिंदी
*   বাংলা
*   ภาษาไทย
*   中文 – 简体
*   中文 – 繁體
*   日本語
*   한국어
